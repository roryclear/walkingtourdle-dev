<!-- https://www.youtube.com/watch?v=ZwC74uv3zic -->
<body onload="populate()">
<div class="yt-embed-holder">
    <iframe width="560" id="ytvid" height="315" src="" 
    title="YouTube video player" frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; 
    gyroscope; picture-in-picture; web-share" 
    referrerpolicy="strict-origin-when-cross-origin"></iframe>

    <div class="score-container" id="load0">
        <span class="emoji" id="emoji0-1">⬜</span>
        <span class="emoji" id="emoji0-2">⬜</span>
        <span class="emoji" id="emoji0-3">⬜</span>
        <span class="emoji" id="emoji0-4">⬜</span>
        <span class="emoji" id="emoji0-5">⬜</span>
        <div class="grid-container" id="grid0">
            <span class="new-content hidden" id="county-name0">County Name</span>
            <span class="new-content hidden" id="distance0">Distance</span>
            <span class="new-content hidden" id="chosen-emoji0">🗺️</span>
        </div>
        <span class="percentage-display" id="percentage-display0">0%</span>
    </div>

    <div id="popup" class="popup">
        <div id="score" class="score"></div>
        <div id="correct-answer" class="correct-answer"></div>
        <button class="share-button" onclick="shareScore()">Share</button>
    </div>

    <div class="score-container" id="load1" style="bottom: calc(180px + 90*5px);">
        <span class="emoji" id="emoji1-1">⬜</span>
        <span class="emoji" id="emoji1-2">⬜</span>
        <span class="emoji" id="emoji1-3">⬜</span>
        <span class="emoji" id="emoji1-4">⬜</span>
        <span class="emoji" id="emoji1-5">⬜</span>
        <div class="grid-container" id="grid1">
            <span class="new-content hidden" id="county-name1">County Name</span>
            <span class="new-content hidden" id="distance1">Distance</span>
            <span class="new-content hidden" id="chosen-emoji1">🗺️</span>
        </div>
        <span class="percentage-display" id="percentage-display1">0%</span>
    </div>

    <div class="score-container" id="load2" style="bottom: calc(180px + 90*4px);">
        <span class="emoji" id="emoji2-1">⬜</span>
        <span class="emoji" id="emoji2-2">⬜</span>
        <span class="emoji" id="emoji2-3">⬜</span>
        <span class="emoji" id="emoji2-4">⬜</span>
        <span class="emoji" id="emoji2-5">⬜</span>
        <div class="grid-container" id="grid2">
            <span class="new-content hidden" id="county-name2">County Name</span>
            <span class="new-content hidden" id="distance2">Distance</span>
            <span class="new-content hidden" id="chosen-emoji2">🗺️</span>
        </div>
        <span class="percentage-display" id="percentage-display2">0%</span>
    </div>

    <div class="score-container" id="load3" style="bottom: calc(180px + 90*3px);">
        <span class="emoji" id="emoji3-1">⬜</span>
        <span class="emoji" id="emoji3-2">⬜</span>
        <span class="emoji" id="emoji3-3">⬜</span>
        <span class="emoji" id="emoji3-4">⬜</span>
        <span class="emoji" id="emoji3-5">⬜</span>
        <div class="grid-container" id="grid3">
            <span class="new-content hidden" id="county-name3">County Name</span>
            <span class="new-content hidden" id="distance3">Distance</span>
            <span class="new-content hidden" id="chosen-emoji3">🗺️</span>
        </div>
        <span class="percentage-display" id="percentage-display3">0%</span>
    </div>

    <div class="score-container" id="load4" style="bottom: calc(180px + 90*2px);">
        <span class="emoji" id="emoji4-1">⬜</span>
        <span class="emoji" id="emoji4-2">⬜</span>
        <span class="emoji" id="emoji4-3">⬜</span>
        <span class="emoji" id="emoji4-4">⬜</span>
        <span class="emoji" id="emoji4-5">⬜</span>
        <div class="grid-container" id="grid4">
            <span class="new-content hidden" id="county-name4">County Name</span>
            <span class="new-content hidden" id="distance4">Distance</span>
            <span class="new-content hidden" id="chosen-emoji4">🗺️</span>
        </div>
        <span class="percentage-display" id="percentage-display4">0%</span>
    </div>

    <div class="score-container" id="load5" style="bottom: calc(180px + 90*1px);">
        <span class="emoji" id="emoji5-1">⬜</span>
        <span class="emoji" id="emoji5-2">⬜</span>
        <span class="emoji" id="emoji5-3">⬜</span>
        <span class="emoji" id="emoji5-4">⬜</span>
        <span class="emoji" id="emoji5-5">⬜</span>
        <div class="grid-container" id="grid5">
            <span class="new-content hidden" id="county-name5">County Name</span>
            <span class="new-content hidden" id="distance5">Distance</span>
            <span class="new-content hidden" id="chosen-emoji5">🗺️</span>
        </div>
        <span class="percentage-display" id="percentage-display5">0%</span>
    </div>

    </select>
</div>
<div class="guess" style="bottom:calc(180px + 90*0px);">
        <select id="european-countries" name="european-countries" style="width: 50%; height: 100%;">
            <option value="none">Pick a location 🗺️</option>
            <option value="afghanistan">🇦🇫Afghanistan</option>
            <option value="albania">🇦🇱Albania</option>
            <option value="algeria">🇩🇿Algeria</option>
            <option value="american samoa">🇦🇸American Samoa</option>
            <option value="andorra">🇦🇩Andorra</option>
            <option value="angola">🇦🇴Angola</option>
            <option value="anguilla">🇦🇮Anguilla</option>
            <option value="antarctica">🇦🇶Antarctica</option>
            <option value="antigua &amp; barbuda">🇦🇬Antigua &amp; Barbuda</option>
            <option value="argentina">🇦🇷Argentina</option>
            <option value="armenia">🇦🇲Armenia</option>
            <option value="aruba">🇦🇼Aruba</option>
            <option value="ascension island">🇦🇨Ascension Island</option>
            <option value="australia">🇦🇺Australia</option>
            <option value="austria">🇦🇹Austria</option>
            <option value="azerbaijan">🇦🇿Azerbaijan</option>
            <option value="bahamas">🇧🇸Bahamas</option>
            <option value="bahrain">🇧🇭Bahrain</option>
            <option value="bangladesh">🇧🇩Bangladesh</option>
            <option value="barbados">🇧🇧Barbados</option>
            <option value="belarus">🇧🇾Belarus</option>
            <option value="belgium">🇧🇪Belgium</option>
            <option value="belize">🇧🇿Belize</option>
            <option value="benin">🇧🇯Benin</option>
            <option value="bermuda">🇧🇲Bermuda</option>
            <option value="bhutan">🇧🇹Bhutan</option>
            <option value="bolivia">🇧🇴Bolivia</option>
            <option value="bosnia &amp; herzegovina">🇧🇦Bosnia &amp; Herzegovina</option>
            <option value="botswana">🇧🇼Botswana</option>
            <option value="bouvet island">🇧🇻Bouvet Island</option>
            <option value="brazil">🇧🇷Brazil</option>
            <option value="british indian ocean territory">🇮🇴British Indian Ocean Territory</option>
            <option value="british virgin islands">🇻🇬British Virgin Islands</option>
            <option value="brunei">🇧🇳Brunei</option>
            <option value="bulgaria">🇧🇬Bulgaria</option>
            <option value="burkina faso">🇧🇫Burkina Faso</option>
            <option value="burundi">🇧🇮Burundi</option>
            <option value="cambodia">🇰🇭Cambodia</option>
            <option value="cameroon">🇨🇲Cameroon</option>
            <option value="canada">🇨🇦Canada</option>
            <option value="canary islands">🇮🇨Canary Islands</option>
            <option value="cape verde">🇨🇻Cape Verde</option>
            <option value="caribbean netherlands">🇧🇶Caribbean Netherlands</option>
            <option value="cayman islands">🇰🇾Cayman Islands</option>
            <option value="central african republic">🇨🇫Central African Republic</option>
            <option value="ceuta &amp; melilla">🇪🇦Ceuta &amp; Melilla</option>
            <option value="chad">🇹🇩Chad</option>
            <option value="chile">🇨🇱Chile</option>
            <option value="china">🇨🇳China</option>
            <option value="christmas island">🇨🇽Christmas Island</option>
            <option value="clipperton island">🇨🇵Clipperton Island</option>
            <option value="cocos (keeling) islands">🇨🇨Cocos (Keeling) Islands</option>
            <option value="colombia">🇨🇴Colombia</option>
            <option value="comoros">🇰🇲Comoros</option>
            <option value="congo - brazzaville">🇨🇬Congo - Brazzaville</option>
            <option value="congo - kinshasa">🇨🇩Congo - Kinshasa</option>
            <option value="cook islands">🇨🇰Cook Islands</option>
            <option value="costa rica">🇨🇷Costa Rica</option>
            <option value="croatia">🇭🇷Croatia</option>
            <option value="cuba">🇨🇺Cuba</option>
            <option value="curaçao">🇨🇼Curaçao</option>
            <option value="cyprus">🇨🇾Cyprus</option>
            <option value="czechia">🇨🇿Czechia</option>
            <option value="côte d’ivoire">🇨🇮Côte d’Ivoire</option>
            <option value="denmark">🇩🇰Denmark</option>
            <option value="diego garcia">🇩🇬Diego Garcia</option>
            <option value="djibouti">🇩🇯Djibouti</option>
            <option value="dominica">🇩🇲Dominica</option>
            <option value="dominican republic">🇩🇴Dominican Republic</option>
            <option value="ecuador">🇪🇨Ecuador</option>
            <option value="egypt">🇪🇬Egypt</option>
            <option value="el salvador">🇸🇻El Salvador</option>
            <option value="england">🏴󠁧󠁢󠁥󠁮󠁧󠁿󠁧England</option>
            <option value="equatorial guinea">🇬🇶Equatorial Guinea</option>
            <option value="eritrea">🇪🇷Eritrea</option>
            <option value="estonia">🇪🇪Estonia</option>
            <option value="eswatini">🇸🇿Eswatini</option>
            <option value="ethiopia">🇪🇹Ethiopia</option>
            <option value="european union">🇪🇺European Union</option>
            <option value="falkland islands">🇫🇰Falkland Islands</option>
            <option value="fiji">🇫🇯Fiji</option>
            <option value="finland">🇫🇮Finland</option>
            <option value="france">🇫🇷France</option>
            <option value="french guiana">🇬🇫French Guiana</option>
            <option value="french polynesia">🇵🇫French Polynesia</option>
            <option value="french southern territories">🇹🇫French Southern Territories</option>
            <option value="gabon">🇬🇦Gabon</option>
            <option value="gambia">🇬🇲Gambia</option>
            <option value="georgia">🇬🇪Georgia</option>
            <option value="germany">🇩🇪Germany</option>
            <option value="ghana">🇬🇭Ghana</option>
            <option value="gibraltar">🇬🇮Gibraltar</option>
            <option value="greece">🇬🇷Greece</option>
            <option value="greenland">🇬🇱Greenland</option>
            <option value="grenada">🇬🇩Grenada</option>
            <option value="guadeloupe">🇬🇵Guadeloupe</option>
            <option value="guam">🇬🇺Guam</option>
            <option value="guatemala">🇬🇹Guatemala</option>
            <option value="guernsey">🇬🇬Guernsey</option>
            <option value="guinea">🇬🇳Guinea</option>
            <option value="guinea-bissau">🇬🇼Guinea-Bissau</option>
            <option value="guyana">🇬🇾Guyana</option>
            <option value="haiti">🇭🇹Haiti</option>
            <option value="heard &amp; mcdonald islands">🇭🇲Heard &amp; McDonald Islands</option>
            <option value="honduras">🇭🇳Honduras</option>
            <option value="hong kong sar china">🇭🇰Hong Kong SAR China</option>
            <option value="hungary">🇭🇺Hungary</option>
            <option value="iceland">🇮🇸Iceland</option>
            <option value="india">🇮🇳India</option>
            <option value="indonesia">🇮🇩Indonesia</option>
            <option value="iran">🇮🇷Iran</option>
            <option value="iraq">🇮🇶Iraq</option>
            <option value="ireland">🇮🇪Ireland</option>
            <option value="isle of man">🇮🇲Isle of Man</option>
            <option value="israel">🇮🇱Israel</option>
            <option value="italy">🇮🇹Italy</option>
            <option value="jamaica">🇯🇲Jamaica</option>
            <option value="japan">🇯🇵Japan</option>
            <option value="jersey">🇯🇪Jersey</option>
            <option value="jordan">🇯🇴Jordan</option>
            <option value="kazakhstan">🇰🇿Kazakhstan</option>
            <option value="kenya">🇰🇪Kenya</option>
            <option value="kiribati">🇰🇮Kiribati</option>
            <option value="kosovo">🇽🇰Kosovo</option>
            <option value="kuwait">🇰🇼Kuwait</option>
            <option value="kyrgyzstan">🇰🇬Kyrgyzstan</option>
            <option value="laos">🇱🇦Laos</option>
            <option value="latvia">🇱🇻Latvia</option>
            <option value="lebanon">🇱🇧Lebanon</option>
            <option value="lesotho">🇱🇸Lesotho</option>
            <option value="liberia">🇱🇷Liberia</option>
            <option value="libya">🇱🇾Libya</option>
            <option value="liechtenstein">🇱🇮Liechtenstein</option>
            <option value="lithuania">🇱🇹Lithuania</option>
            <option value="luxembourg">🇱🇺Luxembourg</option>
            <option value="macao sar china">🇲🇴Macao Sar China</option>
            <option value="madagascar">🇲🇬Madagascar</option>
            <option value="malawi">🇲🇼Malawi</option>
            <option value="malaysia">🇲🇾Malaysia</option>
            <option value="maldives">🇲🇻Maldives</option>
            <option value="mali">🇲🇱Mali</option>
            <option value="malta">🇲🇹Malta</option>
            <option value="marshall islands">🇲🇭Marshall Islands</option>
            <option value="martinique">🇲🇶Martinique</option>
            <option value="mauritania">🇲🇷Mauritania</option>
            <option value="mauritius">🇲🇺Mauritius</option>
            <option value="mayotte">🇾🇹Mayotte</option>
            <option value="mexico">🇲🇽Mexico</option>
            <option value="micronesia">🇫🇲Micronesia</option>
            <option value="moldova">🇲🇩Moldova</option>
            <option value="monaco">🇲🇨Monaco</option>
            <option value="mongolia">🇲🇳Mongolia</option>
            <option value="montenegro">🇲🇪Montenegro</option>
            <option value="montserrat">🇲🇸Montserrat</option>
            <option value="morocco">🇲🇦Morocco</option>
            <option value="mozambique">🇲🇿Mozambique</option>
            <option value="myanmar (burma)">🇲🇲Myanmar (Burma)</option>
            <option value="namibia">🇳🇦Namibia</option>
            <option value="nauru">🇳🇷Nauru</option>
            <option value="nepal">🇳🇵Nepal</option>
            <option value="netherlands">🇳🇱Netherlands</option>
            <option value="new caledonia">🇳🇨New Caledonia</option>
            <option value="new zealand">🇳🇿New Zealand</option>
            <option value="nicaragua">🇳🇮Nicaragua</option>
            <option value="niger">🇳🇪Niger</option>
            <option value="nigeria">🇳🇬Nigeria</option>
            <option value="niue">🇳🇺Niue</option>
            <option value="norfolk island">🇳🇫Norfolk Island</option>
            <option value="north korea">🇰🇵North Korea</option>
            <option value="north macedonia">🇲🇰North Macedonia</option>
            <option value="northern mariana islands">🇲🇵Northern Mariana Islands</option>
            <option value="norway">🇳🇴Norway</option>
            <option value="oman">🇴🇲Oman</option>
            <option value="pakistan">🇵🇰Pakistan</option>
            <option value="palau">🇵🇼Palau</option>
            <option value="palestinian territories">🇵🇸Palestinian Territories</option>
            <option value="panama">🇵🇦Panama</option>
            <option value="papua new guinea">🇵🇬Papua New Guinea</option>
            <option value="paraguay">🇵🇾Paraguay</option>
            <option value="peru">🇵🇪Peru</option>
            <option value="philippines">🇵🇭Philippines</option>
            <option value="pitcairn islands">🇵🇳Pitcairn Islands</option>
            <option value="poland">🇵🇱Poland</option>
            <option value="portugal">🇵🇹Portugal</option>
            <option value="puerto rico">🇵🇷Puerto Rico</option>
            <option value="qatar">🇶🇦Qatar</option>
            <option value="romania">🇷🇴Romania</option>
            <option value="russia">🇷🇺Russia</option>
            <option value="russia">🇷🇺Russia</option>
            <option value="rwanda">🇷🇼Rwanda</option>
            <option value="réunion">🇷🇪Réunion</option>
            <option value="samoa">🇼🇸Samoa</option>
            <option value="san marino">🇸🇲San Marino</option>
            <option value="saudi arabia">🇸🇦Saudi Arabia</option>
            <option value="scotland">🏴󠁧󠁢󠁳󠁣󠁴󠁿Scotland</option>
            <option value="senegal">🇸🇳Senegal</option>
            <option value="serbia">🇷🇸Serbia</option>
            <option value="seychelles">🇸🇨Seychelles</option>
            <option value="sierra leone">🇸🇱Sierra Leone</option>
            <option value="singapore">🇸🇬Singapore</option>
            <option value="sint maarten">🇸🇽Sint Maarten</option>
            <option value="slovakia">🇸🇰Slovakia</option>
            <option value="slovenia">🇸🇮Slovenia</option>
            <option value="solomon islands">🇸🇧Solomon Islands</option>
            <option value="somalia">🇸🇴Somalia</option>
            <option value="south africa">🇿🇦South Africa</option>
            <option value="south georgia &amp; south sandwich islands">🇬🇸South Georgia &amp; South Sandwich Islands</option>
            <option value="south korea">🇰🇷South Korea</option>
            <option value="south sudan">🇸🇸South Sudan</option>
            <option value="spain">🇪🇸Spain</option>
            <option value="sri lanka">🇱🇰Sri Lanka</option>
            <option value="st. barthélemy">🇧🇱St. Barthélemy</option>
            <option value="st. helena">🇸🇭St. Helena</option>
            <option value="st. kitts &amp; nevis">🇰🇳St. Kitts &amp; Nevis</option>
            <option value="st. lucia">🇱🇨St. Lucia</option>
            <option value="st. martin">🇲🇫St. Martin</option>
            <option value="st. pierre &amp; miquelon">🇵🇲St. Pierre &amp; Miquelon</option>
            <option value="st. vincent &amp; grenadines">🇻🇨St. Vincent &amp; Grenadines</option>
            <option value="sudan">🇸🇩Sudan</option>
            <option value="suriname">🇸🇷Suriname</option>
            <option value="svalbard &amp; jan mayen">🇸🇯Svalbard &amp; Jan Mayen</option>
            <option value="sweden">🇸🇪Sweden</option>
            <option value="switzerland">🇨🇭Switzerland</option>
            <option value="syria">🇸🇾Syria</option>
            <option value="são tomé &amp; príncipe">🇸🇹São Tomé &amp; Príncipe</option>
            <option value="taiwan">🇹🇼Taiwan</option>
            <option value="tajikistan">🇹🇯Tajikistan</option>
            <option value="tanzania">🇹🇿Tanzania</option>
            <option value="thailand">🇹🇭Thailand</option>
            <option value="timor-leste">🇹🇱Timor-Leste</option>
            <option value="togo">🇹🇬Togo</option>
            <option value="tokelau">🇹🇰Tokelau</option>
            <option value="tonga">🇹🇴Tonga</option>
            <option value="trinidad &amp; tobago">🇹🇹Trinidad &amp; Tobago</option>
            <option value="tristan da cunha">🇹🇦Tristan Da Cunha</option>
            <option value="tunisia">🇹🇳Tunisia</option>
            <option value="turkey">🇹🇷Turkey</option>
            <option value="turkmenistan">🇹🇲Turkmenistan</option>
            <option value="turks &amp; caicos islands">🇹🇨Turks &amp; Caicos Islands</option>
            <option value="tuvalu">🇹🇻Tuvalu</option>
            <option value="u.s. outlying islands">🇺🇲U.S. Outlying Islands</option>
            <option value="u.s. virgin islands">🇻🇮U.S. Virgin Islands</option>
            <option value="uganda">🇺🇬Uganda</option>
            <option value="ukraine">🇺🇦Ukraine</option>
            <option value="united arab emirates">🇦🇪United Arab Emirates</option>
            <option value="united kingdom">🇬🇧United Kingdom</option>
            <option value="united states">🇺🇸United States</option>
            <option value="uruguay">🇺🇾Uruguay</option>
            <option value="uzbekistan">🇺🇿Uzbekistan</option>
            <option value="vanuatu">🇻🇺Vanuatu</option>
            <option value="vatican city">🇻🇦Vatican City</option>
            <option value="venezuela">🇻🇪Venezuela</option>
            <option value="vietnam">🇻🇳Vietnam</option>
            <option value="wales">🏴󠁧󠁢󠁷󠁬󠁳󠁿󠁧Wales</option>
            <option value="wallis &amp; futuna">🇼🇫Wallis &amp; Futuna</option>
            <option value="western sahara">🇪🇭Western Sahara</option>
            <option value="yemen">🇾🇪Yemen</option>
            <option value="zambia">🇿🇲Zambia</option>
            <option value="zimbabwe">🇿🇼Zimbabwe</option>
            <option value="åland islands">🇦🇽Åland Islands</option>
        </select>
        <button class="submit-btn" id="submit-btn" onclick="make_guess()">Guess</button>
</div>

</div>

<style>


body{
    background-color: black;
    font-family: Arial, sans-serif;
    font-size: 40;
}

.guess {
    font-size: 40;
}

.guess select {
    font-size: 40;
}

.submit-btn {
    font-size: 40;
}

@media (min-width: 1200px) {
body{
    background-color: black;
    font-family: Arial, sans-serif;
    font-size: 24;
}

.guess {
    font-size: 24;
}

.guess select {
    font-size: 24;
}

.submit-btn {
    font-size: 24;
}

}

.yt-embed-holder {
    width: 100%;
    height: 90%;
    overflow: hidden;
    pointer-events: none;
    #aspect-ratio: 16/9;
}

.yt-embed-holder iframe {
    width: 300%;
    height: 90%;
    margin-left: -100%;
    z-index: 100;
}

.grid-container {
    display: none; /* Activate grid layout */
}

.score-container {
            width: 860px;
            height: 80px;
            position: absolute;
            bottom: 720px;
            z-index: 1000;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            justify-content: space-between; /* Spread out the elements */
            background-color: rgba(255, 255, 255, 0.7);
            padding: 0 40px; /* Padding to keep elements away from edges */
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .emoji, .new-content {
            opacity: 0; /* Initially hidden */
            transition: opacity 0.5s ease;
        }

        .percentage-display {
            font-weight: bold;
            display: none
        }

        .hidden {
            display: none;
        }

        .visible {
            opacity: 1;
        }

.guess {
    height: 80px;
    width: 900px;
    opacity: 100%;
    position: absolute;
    bottom: 180px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 15px;
    border-radius: 8px;
    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);
    z-index: 1;
    overflow: hidden;
}

.guess select {
    width: 48%;
    height: 50px;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 5px 10px;
    outline: none;
    transition: border-color 0.3s ease;
}

.guess select:focus {
    border-color: #007BFF;
}

.submit-btn {
    width: 48%;
    height: 80px;
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.submit-btn:hover {
    background-color: #0056b3;
}

.load {
    display: None;
    height: 80px;
    width:900px;
    overflow:hidden;
    cursor:pointer;
    z-index:100000;
    background-color:rgb(239, 52, 52);
    position: absolute;
    bottom: 180px;
    left:calc(50% - 900px / 2);
}

.popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background-color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        text-align: center;
        z-index: 1000000;
        }
        .popup .score {
            margin-bottom: 10px;
        }
        .popup .correct-answer {
            margin-bottom: 20px;
        }
        .popup .share-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 36;
        }
        .popup .share-button:hover {
            background-color: #45a049;
        }

</style>
<script>

function showPopup(scoreArray, correctAnswer) {
        const scoreElement = document.getElementById('score');
        const correctAnswerElement = document.getElementById('correct-answer');
        scoreElement.innerHTML = scoreArray.map(score => {
            let greenSquares = Math.floor(score / 20);
            let yellowSquare = score % 20 > 0 ? 1 : 0;
            let greySquares = 5 - greenSquares - yellowSquare;
            return '🟩'.repeat(greenSquares) + '🟨'.repeat(yellowSquare) + '⬜'.repeat(greySquares);
        }).join('<br>');
        correctAnswerElement.textContent = `Correct Answer: ${country_emojis[correctAnswer]}${correctAnswer}`;
        document.getElementById('popup').style.display = 'block';
    }

    function hidePopup() {
        document.getElementById('popup').style.display = 'none';
    }

    function shareScore() {
        alert('Score shared!');
    }

function make_guess(){
    i = 0
    while(sessionStorage.getItem("guesses"+String(i)) != null && i < 6) {
        i+=1;
    }
    value = document.getElementById("european-countries").value;
    y = calculate_distance(value);
    distance = y[0]
    angle = y[1]
    fake_load(distance,angle,value,i);
    guess = value+","+y[0]+","+y[1];
    sessionStorage.setItem("guesses"+String(i),guess);
    document.getElementById("guess"+String(i)).textContent=guess;
}
function fake_load(distance,angle,value,i) {
    country_emojis = {
    "afghanistan": "🇦🇫",
    "albania": "🇦🇱",
    "algeria": "🇩🇿",
    "american samoa": "🇦🇸",
    "andorra": "🇦🇩",
    "angola": "🇦🇴",
    "anguilla": "🇦🇮",
    "antarctica": "🇦🇶",
    "antigua & barbuda": "🇦🇬",
    "argentina": "🇦🇷",
    "armenia": "🇦🇲",
    "aruba": "🇦🇼",
    "ascension island": "🇦🇨",
    "australia": "🇦🇺",
    "austria": "🇦🇹",
    "azerbaijan": "🇦🇿",
    "bahamas": "🇧🇸",
    "bahrain": "🇧🇭",
    "bangladesh": "🇧🇩",
    "barbados": "🇧🇧",
    "belarus": "🇧🇾",
    "belgium": "🇧🇪",
    "belize": "🇧🇿",
    "benin": "🇧🇯",
    "bermuda": "🇧🇲",
    "bhutan": "🇧🇹",
    "bolivia": "🇧🇴",
    "bosnia & herzegovina": "🇧🇦",
    "botswana": "🇧🇼",
    "bouvet island": "🇧🇻",
    "brazil": "🇧🇷",
    "british indian ocean territory": "🇮🇴",
    "british virgin islands": "🇻🇬",
    "brunei": "🇧🇳",
    "bulgaria": "🇧🇬",
    "burkina faso": "🇧🇫",
    "burundi": "🇧🇮",
    "cambodia": "🇰🇭",
    "cameroon": "🇨🇲",
    "canada": "🇨🇦",
    "canary islands": "🇮🇨",
    "cape verde": "🇨🇻",
    "caribbean netherlands": "🇧🇶",
    "cayman islands": "🇰🇾",
    "central african republic": "🇨🇫",
    "ceuta & melilla": "🇪🇦",
    "chad": "🇹🇩",
    "chile": "🇨🇱",
    "china": "🇨🇳",
    "christmas island": "🇨🇽",
    "clipperton island": "🇨🇵",
    "cocos (keeling) islands": "🇨🇨",
    "colombia": "🇨🇴",
    "comoros": "🇰🇲",
    "congo - brazzaville": "🇨🇬",
    "congo - kinshasa": "🇨🇩",
    "cook islands": "🇨🇰",
    "costa rica": "🇨🇷",
    "croatia": "🇭🇷",
    "cuba": "🇨🇺",
    "curaçao": "🇨🇼",
    "cyprus": "🇨🇾",
    "czechia": "🇨🇿",
    "côte d’ivoire": "🇨🇮",
    "denmark": "🇩🇰",
    "diego garcia": "🇩🇬",
    "djibouti": "🇩🇯",
    "dominica": "🇩🇲",
    "dominican republic": "🇩🇴",
    "ecuador": "🇪🇨",
    "egypt": "🇪🇬",
    "el salvador": "🇸🇻",
    "england": "🏴󠁧󠁢󠁥󠁮󠁧󠁿",
    "equatorial guinea": "🇬🇶",
    "eritrea": "🇪🇷",
    "estonia": "🇪🇪",
    "eswatini": "🇸🇿",
    "ethiopia": "🇪🇹",
    "european union": "🇪🇺",
    "falkland islands": "🇫🇰",
    "fiji": "🇫🇯",
    "finland": "🇫🇮",
    "france": "🇫🇷",
    "french guiana": "🇬🇫",
    "french polynesia": "🇵🇫",
    "french southern territories": "🇹🇫",
    "gabon": "🇬🇦",
    "gambia": "🇬🇲",
    "georgia": "🇬🇪",
    "germany": "🇩🇪",
    "ghana": "🇬🇭",
    "gibraltar": "🇬🇮",
    "greece": "🇬🇷",
    "greenland": "🇬🇱",
    "grenada": "🇬🇩",
    "guadeloupe": "🇬🇵",
    "guam": "🇬🇺",
    "guatemala": "🇬🇹",
    "guernsey": "🇬🇬",
    "guinea": "🇬🇳",
    "guinea-bissau": "🇬🇼",
    "guyana": "🇬🇾",
    "haiti": "🇭🇹",
    "heard & mcdonald islands": "🇭🇲",
    "honduras": "🇭🇳",
    "hong kong sar china": "🇭🇰",
    "hungary": "🇭🇺",
    "iceland": "🇮🇸",
    "india": "🇮🇳",
    "indonesia": "🇮🇩",
    "iran": "🇮🇷",
    "iraq": "🇮🇶",
    "ireland": "🇮🇪",
    "isle of man": "🇮🇲",
    "israel": "🇮🇱",
    "italy": "🇮🇹",
    "jamaica": "🇯🇲",
    "japan": "🇯🇵",
    "jersey": "🇯🇪",
    "jordan": "🇯🇴",
    "kazakhstan": "🇰🇿",
    "kenya": "🇰🇪",
    "kiribati": "🇰🇮",
    "kosovo": "🇽🇰",
    "kuwait": "🇰🇼",
    "kyrgyzstan": "🇰🇬",
    "laos": "🇱🇦",
    "latvia": "🇱🇻",
    "lebanon": "🇱🇧",
    "lesotho": "🇱🇸",
    "liberia": "🇱🇷",
    "libya": "🇱🇾",
    "liechtenstein": "🇱🇮",
    "lithuania": "🇱🇹",
    "luxembourg": "🇱🇺",
    "macao sar china": "🇲🇴",
    "madagascar": "🇲🇬",
    "malawi": "🇲🇼",
    "malaysia": "🇲🇾",
    "maldives": "🇲🇻",
    "mali": "🇲🇱",
    "malta": "🇲🇹",
    "marshall islands": "🇲🇭",
    "martinique": "🇲🇶",
    "mauritania": "🇲🇷",
    "mauritius": "🇲🇺",
    "mayotte": "🇾🇹",
    "mexico": "🇲🇽",
    "micronesia": "🇫🇲",
    "moldova": "🇲🇩",
    "monaco": "🇲🇨",
    "mongolia": "🇲🇳",
    "montenegro": "🇲🇪",
    "montserrat": "🇲🇸",
    "morocco": "🇲🇦",
    "mozambique": "🇲🇿",
    "myanmar (burma)": "🇲🇲",
    "namibia": "🇳🇦",
    "nauru": "🇳🇷",
    "nepal": "🇳🇵",
    "netherlands": "🇳🇱",
    "new caledonia": "🇳🇨",
    "new zealand": "🇳🇿",
    "nicaragua": "🇳🇮",
    "niger": "🇳🇪",
    "nigeria": "🇳🇬",
    "niue": "🇳🇺",
    "norfolk island": "🇳🇫",
    "north korea": "🇰🇵",
    "north macedonia": "🇲🇰",
    "northern mariana islands": "🇲🇵",
    "norway": "🇳🇴",
    "oman": "🇴🇲",
    "pakistan": "🇵🇰",
    "palau": "🇵🇼",
    "palestinian territories": "🇵🇸",
    "panama": "🇵🇦",
    "papua new guinea": "🇵🇬",
    "paraguay": "🇵🇾",
    "peru": "🇵🇪",
    "philippines": "🇵🇭",
    "pitcairn islands": "🇵🇳",
    "poland": "🇵🇱",
    "portugal": "🇵🇹",
    "puerto rico": "🇵🇷",
    "qatar": "🇶🇦",
    "romania": "🇷🇴",
    "russia": "🇷🇺",
    "rwanda": "🇷🇼",
    "réunion": "🇷🇪",
    "samoa": "🇼🇸",
    "san marino": "🇸🇲",
    "saudi arabia": "🇸🇦",
    "scotland": "🏴󠁧󠁢󠁳󠁣󠁴󠁿",
    "senegal": "🇸🇳",
    "serbia": "🇷🇸",
    "seychelles": "🇸🇨",
    "sierra leone": "🇸🇱",
    "singapore": "🇸🇬",
    "sint maarten": "🇸🇽",
    "slovakia": "🇸🇰",
    "slovenia": "🇸🇮",
    "solomon islands": "🇸🇧",
    "somalia": "🇸🇴",
    "south africa": "🇿🇦",
    "south georgia & south sandwich islands": "🇬🇸",
    "south korea": "🇰🇷",
    "south sudan": "🇸🇸",
    "spain": "🇪🇸",
    "sri lanka": "🇱🇰",
    "st. barthélemy": "🇧🇱",
    "st. helena": "🇸🇭",
    "st. kitts & nevis": "🇰🇳",
    "st. lucia": "🇱🇨",
    "st. martin": "🇲🇫",
    "st. pierre & miquelon": "🇵🇲",
    "st. vincent & grenadines": "🇻🇨",
    "sudan": "🇸🇩",
    "suriname": "🇸🇷",
    "svalbard & jan mayen": "🇸🇯",
    "sweden": "🇸🇪",
    "switzerland": "🇨🇭",
    "syria": "🇸🇾",
    "são tomé & príncipe": "🇸🇹",
    "taiwan": "🇹🇼",
    "tajikistan": "🇹🇯",
    "tanzania": "🇹🇿",
    "thailand": "🇹🇭",
    "timor-leste": "🇹🇱",
    "togo": "🇹🇬",
    "tokelau": "🇹🇰",
    "tonga": "🇹🇴",
    "trinidad & tobago": "🇹🇹",
    "tristan da cunha": "🇹🇦",
    "tunisia": "🇹🇳",
    "turkey": "🇹🇷",
    "turkmenistan": "🇹🇲",
    "turks & caicos islands": "🇹🇨",
    "tuvalu": "🇹🇻",
    "u.s. outlying islands": "🇺🇲",
    "u.s. virgin islands": "🇻🇮",
    "uganda": "🇺🇬",
    "ukraine": "🇺🇦",
    "united arab emirates": "🇦🇪",
    "united kingdom": "🇬🇧",
    "united states": "🇺🇸",
    "uruguay": "🇺🇾",
    "uzbekistan": "🇺🇿",
    "vanuatu": "🇻🇺",
    "vatican city": "🇻🇦",
    "venezuela": "🇻🇪",
    "vietnam": "🇻🇳",
    "wales": "🏴󠁧󠁢󠁷󠁬󠁳󠁿",
    "wallis & futuna": "🇼🇫",
    "western sahara": "🇪🇭",
    "yemen": "🇾🇪",
    "zambia": "🇿🇲",
    "zimbabwe": "🇿🇼",
    "åland islands": "🇦🇽"
    };

    let percentage = 100 - Math.round(distance*100 / 13238);
    if(sessionStorage.getItem("percent"+String(i)) == null) {
        sessionStorage.setItem("percent"+String(i),String(percentage))
    }
    for (let j = 1; j < 6; j++) {
        document.getElementById("emoji"+String(i)+"-"+String(j)).style.opacity = 0; // Make the emoji appear
    }
    document.getElementById('load'+String(i)).style.display = 'flex';
    document.getElementById('percentage-display'+String(i)).style.display = 'block'
    updateScoreAnimation(percentage,i);
    let text = country_emojis[value]+value;
    document.getElementById("county-name"+String(i)).textContent = text.length > 15 ? text.slice(0, 15) + "..." : text
    document.getElementById("distance"+String(i)).textContent = Number(distance).toLocaleString('en', {useGrouping:true}) +" km";
    if(distance > 0) {
        emoji = "↗️"
        if(angle > 77.5 && angle <= 122.5) {
            emoji = "➡️"
        }
        if(angle > 122.5 && angle <= 167.5) {
            emoji = "↘️"
        }
        if(angle > 167.5 && angle <= 212.5) {
            emoji = "⬇️"
        }
        if(angle > 212.5 && angle <= 257.5) {
            emoji = "↙️"
        }
        if(angle > 257.5 && angle <= 302.5) {
            emoji = "⬅️"
        }
        if(angle > 302.5 && angle <= 347.5) {
            emoji = "↖️"
        }
        if(angle > 347.5  || angle <= 32.5) {
            emoji = "⬆️"
        }
    } else {
        emoji = "😎"
        document.getElementById("submit-btn").disabled = true;
    }
    document.getElementById("chosen-emoji"+String(i)).textContent = emoji; // Example emoji
}

function populate(){
    now = Date.now()
    now = now - 1724889600000
    days = Math.floor(now / 8.64e+7)

    locations = [["uganda","LjubyL5nwAY"],["czechia","FeOL2myTopk"]];
    correctAnswer = locations[days][0];

    //1724889600
    //https://www.youtube-nocookie.com/embed/FeOL2myTopk?si=b_kt77svV7CQRb3h&amp;start=330
    //&autoplay=1&mute=1&controls=0&color=white&modestbranding=0&rel=0&playsinline=enable&playlist=FeOL2myTopk&showinfo=0&iv_load_policy=1&cc_load_policy=3
    //&wmode=opaque
    vid = document.getElementById("ytvid")
    vid.src = "https://www.youtube-nocookie.com/embed/"+locations[days][1]+"?si=b_kt77svV7CQRb3h&amp;start=330&autoplay=1&mute=1&controls=0&color=white&modestbranding=0&rel=0&playsinline=enable&playlist="+locations[days][1]+"&showinfo=0&iv_load_policy=1&cc_load_policy=3&wmode=opaque"
    k = 0
    while(sessionStorage.getItem("guesses"+String(k)) != null && k < 6) {
        guess = sessionStorage.getItem("guesses"+String(k));
        var guess_array = guess.split(',');
        fake_load(guess_array[1],guess_array[2],guess_array[0],k);
        k+=1;
    }
}

function share(won) {
    k = 0
    scores = []
    while(sessionStorage.getItem("percent"+String(k)) != null) {
        scores.push(Number(sessionStorage.getItem("percent"+String(k))));
        k=k+1
    }
    if(won == true) {
        showPopup(scores,correctAnswer);
        document.getElementById("submit-btn").disabled = true;
    } else {
        showPopup(scores,correctAnswer);
        document.getElementById("submit-btn").disabled = true;
    }
}

function calculate_distance(guess){
    centres = {
  "afghanistan": {"latitude": 33.93911, "longitude": 67.709953},
  "albania": {"latitude": 41.153332, "longitude": 20.168331},
  "algeria": {"latitude": 28.033886, "longitude": 1.659626},
  "american samoa": {"latitude": -14.270972, "longitude": -170.132217},
  "andorra": {"latitude": 42.546245, "longitude": 1.601554},
  "angola": {"latitude": -11.202692, "longitude": 17.873887},
  "anguilla": {"latitude": 18.220554, "longitude": -63.068615},
  "antarctica": {"latitude": -82.862752, "longitude": 135.0},
  "antigua & barbuda": {"latitude": 17.060816, "longitude": -61.796428},
  "argentina": {"latitude": -38.416097, "longitude": -63.616672},
  "armenia": {"latitude": 40.069099, "longitude": 45.038189},
  "aruba": {"latitude": 12.52111, "longitude": -69.968338},
  "ascension island": {"latitude": -7.9467, "longitude": -14.3559},
  "australia": {"latitude": -25.274398, "longitude": 133.775136},
  "austria": {"latitude": 47.516231, "longitude": 14.550072},
  "azerbaijan": {"latitude": 40.143105, "longitude": 47.576927},
  "bahamas": {"latitude": 25.03428, "longitude": -77.39628},
  "bahrain": {"latitude": 26.0667, "longitude": 50.5577},
  "bangladesh": {"latitude": 23.684994, "longitude": 90.356331},
  "barbados": {"latitude": 13.193887, "longitude": -59.543198},
  "belarus": {"latitude": 53.709807, "longitude": 27.953389},
  "belgium": {"latitude": 50.503887, "longitude": 4.469936},
  "belize": {"latitude": 17.189877, "longitude": -88.49765},
  "benin": {"latitude": 9.30769, "longitude": 2.315834},
  "bermuda": {"latitude": 32.321384, "longitude": -64.75737},
  "bhutan": {"latitude": 27.514162, "longitude": 90.433601},
  "bolivia": {"latitude": -16.290154, "longitude": -63.588653},
  "bosnia & herzegovina": {"latitude": 43.915886, "longitude": 17.679076},
  "botswana": {"latitude": -22.328474, "longitude": 24.684866},
  "bouvet island": {"latitude": -54.4208, "longitude": 3.3464},
  "brazil": {"latitude": -14.235004, "longitude": -51.92528},
  "british indian ocean territory": {"latitude": -6.343194, "longitude": 71.876519},
  "british virgin islands": {"latitude": 18.420695, "longitude": -64.639968},
  "brunei": {"latitude": 4.535277, "longitude": 114.727669},
  "bulgaria": {"latitude": 42.733883, "longitude": 25.48583},
  "burkina faso": {"latitude": 12.238333, "longitude": -1.561593},
  "burundi": {"latitude": -3.373056, "longitude": 29.918886},
  "cambodia": {"latitude": 12.565679, "longitude": 104.990963},
  "cameroon": {"latitude": 7.369722, "longitude": 12.354722},
  "canada": {"latitude": 56.130366, "longitude": -106.346771},
  "canary islands": {"latitude": 28.291565, "longitude": -16.629129},
  "cape verde": {"latitude": 16.002082, "longitude": -24.013197},
  "caribbean netherlands": {"latitude": 12.1784, "longitude": -68.2385},
  "cayman islands": {"latitude": 19.3133, "longitude": -81.2546},
  "central african republic": {"latitude": 6.611111, "longitude": 20.939444},
  "ceuta & melilla": {"latitude": 35.8894, "longitude": -5.3198},
  "chad": {"latitude": 15.454166, "longitude": 18.732207},
  "chile": {"latitude": -35.675147, "longitude": -71.542969},
  "china": {"latitude": 35.86166, "longitude": 104.195397},
  "christmas island": {"latitude": -10.4475, "longitude": 105.6904},
  "clipperton island": {"latitude": 10.3, "longitude": -109.2167},
  "cocos (keeling) islands": {"latitude": -12.1642, "longitude": 96.8709},
  "colombia": {"latitude": 4.570868, "longitude": -74.297333},
  "comoros": {"latitude": -11.875001, "longitude": 43.872219},
  "congo - brazzaville": {"latitude": -0.228021, "longitude": 15.827659},
  "congo - kinshasa": {"latitude": -4.038333, "longitude": 21.758664},
  "cook islands": {"latitude": -21.236736, "longitude": -159.777671},
  "costa rica": {"latitude": 9.748917, "longitude": -83.753428},
  "croatia": {"latitude": 45.1, "longitude": 15.2},
  "cuba": {"latitude": 21.521757, "longitude": -77.781167},
  "curaçao": {"latitude": 12.1696, "longitude": -68.99},
  "cyprus": {"latitude": 35.126413, "longitude": 33.429859},
  "czechia": {"latitude": 49.817492, "longitude": 15.472962},
  "côte d’ivoire": {"latitude": 7.539989, "longitude": -5.54708},
  "denmark": {"latitude": 56.26392, "longitude": 9.501785},
  "diego garcia": {"latitude": -7.3133, "longitude": 72.4112},
  "djibouti": {"latitude": 11.825138, "longitude": 42.590275},
  "dominica": {"latitude": 15.414999, "longitude": -61.370976},
  "dominican republic": {"latitude": 18.735693, "longitude": -70.162651},
  "ecuador": {"latitude": -1.831239, "longitude": -78.183406},
  "egypt": {"latitude": 26.820553, "longitude": 30.802498},
  "el salvador": {"latitude": 13.794185, "longitude": -88.89653},
  "england": {"latitude": 52.355518, "longitude": -1.17432},
  "equatorial guinea": {"latitude": 1.650801, "longitude": 10.267895},
  "eritrea": {"latitude": 15.179384, "longitude": 39.782334},
  "estonia": {"latitude": 58.595272, "longitude": 25.013607},
  "eswatini": {"latitude": -26.522503, "longitude": 31.465866},
  "ethiopia": {"latitude": 9.145, "longitude": 40.489673},
  "european union": {"latitude": 50.8503, "longitude": 4.3517},
  "falkland islands": {"latitude": -51.796253, "longitude": -59.523613},
  "fiji": {"latitude": -17.713371, "longitude": 178.065032},
  "finland": {"latitude": 61.92411, "longitude": 25.748151},
  "france": {"latitude": 46.603354, "longitude": 1.888334},
  "french guiana": {"latitude": 3.933889, "longitude": -53.125782},
  "french polynesia": {"latitude": -17.679742, "longitude": -149.406843},
  "french southern territories": {"latitude": -49.280366, "longitude": 69.348557},
  "gabon": {"latitude": -0.803689, "longitude": 11.609444},
  "gambia": {"latitude": 13.443182, "longitude": -15.310139},
  "georgia": {"latitude": 42.315407, "longitude": 43.356892},
  "germany": {"latitude": 51.165691, "longitude": 10.451526},
  "ghana": {"latitude": 7.946527, "longitude": -1.023194},
  "gibraltar": {"latitude": 36.140751, "longitude": -5.353585},
  "greece": {"latitude": 39.074208, "longitude": 21.824312},
  "greenland": {"latitude": 71.706936, "longitude": -42.604303},
  "grenada": {"latitude": 12.262776, "longitude": -61.604171},
  "guadeloupe": {"latitude": 16.265, "longitude": -61.551},
  "guam": {"latitude": 13.444304, "longitude": 144.793731},
  "guatemala": {"latitude": 15.783471, "longitude": -90.230759},
  "guernsey": {"latitude": 49.448196, "longitude": -2.58949},
  "guinea": {"latitude": 9.945587, "longitude": -9.696645},
  "guinea-bissau": {"latitude": 11.803749, "longitude": -15.180413},
  "guyana": {"latitude": 4.860416, "longitude": -58.93018},
  "haiti": {"latitude": 18.971187, "longitude": -72.285215},
  "heard & mcdonald islands": {"latitude": -53.08181, "longitude": 73.504158},
  "honduras": {"latitude": 15.199999, "longitude": -86.241905},
  "hong kong sar china": {"latitude": 22.319303, "longitude": 114.169361},
  "hungary": {"latitude": 47.162494, "longitude": 19.503304},
  "iceland": {"latitude": 64.963051, "longitude": -19.020835},
  "india": {"latitude": 20.593684, "longitude": 78.96288},
  "indonesia": {"latitude": -0.789275, "longitude": 113.921327},
  "iran": {"latitude": 32.427908, "longitude": 53.688046},
  "iraq": {"latitude": 33.223191, "longitude": 43.679291},
  "ireland": {"latitude": 53.41291, "longitude": -8.24389},
  "isle of man": {"latitude": 54.236107, "longitude": -4.548056},
  "israel": {"latitude": 31.046051, "longitude": 34.851612},
  "italy": {"latitude": 41.87194, "longitude": 12.56738},
  "jamaica": {"latitude": 18.109581, "longitude": -77.297508},
  "japan": {"latitude": 36.204824, "longitude": 138.252924},
  "jersey": {"latitude": 49.214439, "longitude": -2.13125},
  "jordan": {"latitude": 30.585164, "longitude": 36.238414},
  "kazakhstan": {"latitude": 48.019573, "longitude": 66.923684},
  "kenya": {"latitude": -0.023559, "longitude": 37.906193},
  "kiribati": {"latitude": -3.370417, "longitude": -168.734039},
  "kosovo": {"latitude": 42.602636, "longitude": 20.902977},
  "kuwait": {"latitude": 29.31166, "longitude": 47.481766},
  "kyrgyzstan": {"latitude": 41.20438, "longitude": 74.766098},
  "laos": {"latitude": 19.85627, "longitude": 102.495496},
  "latvia": {"latitude": 56.879635, "longitude": 24.603189},
  "lebanon": {"latitude": 33.854721, "longitude": 35.862285},
  "lesotho": {"latitude": -29.609988, "longitude": 28.233608},
  "liberia": {"latitude": 6.428055, "longitude": -9.429499},
  "libya": {"latitude": 26.3351, "longitude": 17.228331},
  "liechtenstein": {"latitude": 47.166, "longitude": 9.555373},
  "lithuania": {"latitude": 55.169438, "longitude": 23.881275},
  "luxembourg": {"latitude": 49.815273, "longitude": 6.129583},
  "macao sar china": {"latitude": 22.198745, "longitude": 113.543873},
  "madagascar": {"latitude": -18.766947, "longitude": 46.869107},
  "malawi": {"latitude": -13.254308, "longitude": 34.301525},
  "malaysia": {"latitude": 4.210484, "longitude": 101.975766},
  "maldives": {"latitude": 3.202778, "longitude": 73.22068},
  "mali": {"latitude": 17.570692, "longitude": -3.996166},
  "malta": {"latitude": 35.937496, "longitude": 14.375416},
  "marshall islands": {"latitude": 7.131474, "longitude": 171.184478},
  "martinique": {"latitude": 14.641528, "longitude": -61.024174},
  "mauritania": {"latitude": 21.00789, "longitude": -10.940835},
  "mauritius": {"latitude": -20.348404, "longitude": 57.552152},
  "mayotte": {"latitude": -12.8275, "longitude": 45.166244},
  "mexico": {"latitude": 23.634501, "longitude": -102.552784},
  "micronesia": {"latitude": 7.425554, "longitude": 150.550812},
  "moldova": {"latitude": 47.411631, "longitude": 28.369885},
  "monaco": {"latitude": 43.750298, "longitude": 7.412841},
  "mongolia": {"latitude": 46.862496, "longitude": 103.846656},
  "montenegro": {"latitude": 42.708678, "longitude": 19.37439},
  "montserrat": {"latitude": 16.742498, "longitude": -62.187366},
  "morocco": {"latitude": 31.791702, "longitude": -7.09262},
  "mozambique": {"latitude": -18.665695, "longitude": 35.529562},
  "myanmar (burma)": {"latitude": 21.916221, "longitude": 95.955974},
  "namibia": {"latitude": -22.95764, "longitude": 18.49041},
  "nauru": {"latitude": -0.522778, "longitude": 166.931503},
  "nepal": {"latitude": 28.394857, "longitude": 84.124008},
  "netherlands": {"latitude": 52.132633, "longitude": 5.291266},
  "new caledonia": {"latitude": -20.904305, "longitude": 165.618042},
  "new zealand": {"latitude": -40.900557, "longitude": 174.885971},
  "nicaragua": {"latitude": 12.865416, "longitude": -85.207229},
  "niger": {"latitude": 17.607789, "longitude": 8.081666},
  "nigeria": {"latitude": 9.081999, "longitude": 8.675277},
  "niue": {"latitude": -19.054445, "longitude": -169.867233},
  "norfolk island": {"latitude": -29.040835, "longitude": 167.954712},
  "north korea": {"latitude": 40.339852, "longitude": 127.510093},
  "north macedonia": {"latitude": 41.608635, "longitude": 21.745275},
  "northern mariana islands": {"latitude": 15.0979, "longitude": 145.6739},
  "norway": {"latitude": 60.472024, "longitude": 8.468946},
  "oman": {"latitude": 21.512583, "longitude": 55.923255},
  "pakistan": {"latitude": 30.375321, "longitude": 69.345116},
  "palau": {"latitude": 7.51498, "longitude": 134.58252},
  "palestinian territories": {"latitude": 31.9474, "longitude": 35.2272},
  "panama": {"latitude": 8.537981, "longitude": -80.782127},
  "papua new guinea": {"latitude": -6.314993, "longitude": 143.95555},
  "paraguay": {"latitude": -23.442503, "longitude": -58.443832},
  "peru": {"latitude": -9.189967, "longitude": -75.015152},
  "philippines": {"latitude": 12.879721, "longitude": 121.774017},
  "pitcairn islands": {"latitude": -24.7036, "longitude": -127.4393},
  "poland": {"latitude": 51.919438, "longitude": 19.145136},
  "portugal": {"latitude": 39.399872, "longitude": -8.224454},
  "puerto rico": {"latitude": 18.220833, "longitude": -66.590149},
  "qatar": {"latitude": 25.354826, "longitude": 51.183884},
  "romania": {"latitude": 45.943161, "longitude": 24.96676},
  "russia": {"latitude": 61.52401, "longitude": 105.318756},
  "rwanda": {"latitude": -1.940278, "longitude": 29.873888},
  "réunion": {"latitude": -21.115141, "longitude": 55.536384},
  "samoa": {"latitude": -13.759029, "longitude": -172.104629},
  "san marino": {"latitude": 43.94236, "longitude": 12.457777},
  "saudi arabia": {"latitude": 23.885942, "longitude": 45.079162},
  "scotland": {"latitude": 56.490671, "longitude": -4.202646},
  "senegal": {"latitude": 14.497401, "longitude": -14.452362},
  "serbia": {"latitude": 44.016521, "longitude": 21.005859},
  "seychelles": {"latitude": -4.679574, "longitude": 55.491977},
  "sierra leone": {"latitude": 8.460555, "longitude": -11.779889},
  "singapore": {"latitude": 1.352083, "longitude": 103.819836},
  "sint maarten": {"latitude": 18.0425, "longitude": -63.0548},
  "slovakia": {"latitude": 48.669026, "longitude": 19.699024},
  "slovenia": {"latitude": 46.151241, "longitude": 14.995463},
  "solomon islands": {"latitude": -9.64571, "longitude": 160.156194},
  "somalia": {"latitude": 5.152149, "longitude": 46.199616},
  "south africa": {"latitude": -30.559482, "longitude": 22.937506},
  "south georgia & south sandwich islands": {"latitude": -54.429579, "longitude": -36.587909},
  "south korea": {"latitude": 35.907757, "longitude": 127.766922},
  "south sudan": {"latitude": 6.877, "longitude": 31.307},
  "spain": {"latitude": 40.463667, "longitude": -3.74922},
  "sri lanka": {"latitude": 7.873054, "longitude": 80.771797},
  "st. barthélemy": {"latitude": 17.9, "longitude": -62.8333},
  "st. helena": {"latitude": -15.965, "longitude": -5.7089},
  "st. kitts & nevis": {"latitude": 17.357822, "longitude": -62.782998},
  "st. lucia": {"latitude": 13.909444, "longitude": -60.978893},
  "st. martin": {"latitude": 18.0708, "longitude": -63.0501},
  "st. pierre & miquelon": {"latitude": 46.8852, "longitude": -56.3159},
  "st. vincent & grenadines": {"latitude": 12.984305, "longitude": -61.287228},
  "sudan": {"latitude": 12.862807, "longitude": 30.217636},
  "suriname": {"latitude": 3.919305, "longitude": -56.027783},
  "svalbard & jan mayen": {"latitude": 77.553604, "longitude": 23.670272},
  "sweden": {"latitude": 60.128161, "longitude": 18.643501},
  "switzerland": {"latitude": 46.818188, "longitude": 8.227512},
  "syria": {"latitude": 34.802075, "longitude": 38.996815},
  "são tomé & príncipe": {"latitude": 0.18636, "longitude": 6.613081},
  "taiwan": {"latitude": 23.69781, "longitude": 120.960515},
  "tajikistan": {"latitude": 38.861034, "longitude": 71.276093},
  "tanzania": {"latitude": -6.369028, "longitude": 34.888822},
  "thailand": {"latitude": 15.870032, "longitude": 100.992541},
  "timor-leste": {"latitude": -8.874217, "longitude": 125.727539},
  "togo": {"latitude": 8.619543, "longitude": 0.824782},
  "tokelau": {"latitude": -9.2005, "longitude": -171.8484},
  "tonga": {"latitude": -21.178986, "longitude": -175.198242},
  "trinidad & tobago": {"latitude": 10.691803, "longitude": -61.222503},
  "tristan da cunha": {"latitude": -37.1052, "longitude": -12.2777},
  "tunisia": {"latitude": 33.886917, "longitude": 9.537499},
  "turkey": {"latitude": 38.963745, "longitude": 35.243322},
  "turkmenistan": {"latitude": 38.969719, "longitude": 59.556278},
  "turks & caicos islands": {"latitude": 21.694025, "longitude": -71.797928},
  "tuvalu": {"latitude": -7.109535, "longitude": 177.64933},
  "u.s. outlying islands": {"latitude": 19.2823, "longitude": 166.647},
  "u.s. virgin islands": {"latitude": 18.335765, "longitude": -64.896335},
  "uganda": {"latitude": 1.373333, "longitude": 32.290275},
  "ukraine": {"latitude": 48.379433, "longitude": 31.16558},
  "united arab emirates": {"latitude": 23.424076, "longitude": 53.847818},
  "united kingdom": {"latitude": 55.378051, "longitude": -3.435973},
  "united states": {"latitude": 37.09024, "longitude": -95.712891},
  "uruguay": {"latitude": -32.522779, "longitude": -55.765835},
  "uzbekistan": {"latitude": 41.377491, "longitude": 64.585262},
  "vanuatu": {"latitude": -15.376706, "longitude": 166.959158},
  "vatican city": {"latitude": 41.902916, "longitude": 12.453389},
  "venezuela": {"latitude": 6.42375, "longitude": -66.58973},
  "vietnam": {"latitude": 14.058324, "longitude": 108.277199},
  "wales": {"latitude": 52.130661, "longitude": -3.783712},
  "wallis & futuna": {"latitude": -13.768752, "longitude": -177.156097},
  "western sahara": {"latitude": 24.215527, "longitude": -12.885834},
  "yemen": {"latitude": 15.552727, "longitude": 48.516388},
  "zambia": {"latitude": -13.133897, "longitude": 27.849332},
  "zimbabwe": {"latitude": -19.015438, "longitude": 29.154857},
  "åland islands": {"latitude": 60.178524, "longitude": 19.91561}
    }
    distance = calcCrow(centres[guess]["latitude"],centres[guess]["longitude"],centres[correctAnswer]["latitude"],centres[correctAnswer]["longitude"]);
    latDir = null;
    lonDir = null;
    angle = bearing(centres[guess]["latitude"],centres[guess]["longitude"],centres[correctAnswer]["latitude"],centres[correctAnswer]["longitude"]);
    return [Math.round(distance),angle];
}

function calcCrow(lat1, lon1, lat2, lon2)
    {
      var R = 6371; // km
      var dLat = toRad(lat2-lat1);
      var dLon = toRad(lon2-lon1);
      var lat1 = toRad(lat1);
      var lat2 = toRad(lat2);

      var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
        Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2); 
      var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
      var d = R * c;
      return d;
    }

    // Converts numeric degrees to radians
    function toRad(Value) 
    {
        return Value * Math.PI / 180;
    }

    
    // Converts from radians to degrees.
    function toDeg(radians) {
    return radians * 180 / Math.PI;
    }


    function bearing(startLat, startLng, destLat, destLng){
    startLat = toRad(startLat);
    startLng = toRad(startLng);
    destLat = toRad(destLat);
    destLng = toRad(destLng);

    y = Math.sin(destLng - startLng) * Math.cos(destLat);
    x = Math.cos(startLat) * Math.sin(destLat) -
            Math.sin(startLat) * Math.cos(destLat) * Math.cos(destLng - startLng);
    brng = Math.atan2(y, x);
    brng = toDeg(brng);
    return (brng + 360) % 360;
    }

    function updateScoreAnimation(score,i) {
            const emojis = [
                document.getElementById("emoji"+String(i)+"-1"),
                document.getElementById("emoji"+String(i)+"-2"),
                document.getElementById("emoji"+String(i)+"-3"),
                document.getElementById("emoji"+String(i)+"-4"),
                document.getElementById("emoji"+String(i)+"-5"),
            ];

            const newContentElements = [
                document.getElementById("county-name"+String(i)),
                document.getElementById("distance"+String(i)),
                document.getElementById("chosen-emoji"+String(i))
            ];

            let currentPercentage = 0;
            let intervalSpeed = 30; // Speed of percentage counting and emoji animation

            const percentageDisplay = document.getElementById("percentage-display"+String(i));

            let interval = setInterval(() => {
                // Update the percentage display
                if (currentPercentage < score) {
                    currentPercentage++;
                    percentageDisplay.textContent = `${currentPercentage}%`;
                }

                // Animate filled green emojis
                let filledEmojis = Math.floor(currentPercentage / 20);
                for (let i = 0; i < filledEmojis; i++) {
                    emojis[i].textContent = "🟩";
                    emojis[i].style.opacity = 1; // Make the emoji appear
                }

                // Handle the yellow emoji only at the end of the animation
                if (currentPercentage === score && filledEmojis < 5) {
                    emojis[filledEmojis].textContent = "🟨";
                    emojis[filledEmojis].style.opacity = 1;
                }

                // Stop the interval when the score is reached
                if (currentPercentage >= score) {
                    clearInterval(interval);

                    // After animation is complete, show new content
                    setTimeout(() => {
                        // Hide the emojis
                        emojis.forEach(emoji => {
                            emoji.style.display = 'none';
                        });

                        // Show the new content
                        newContentElements.forEach(el => {
                            el.classList.remove("hidden");
                            el.classList.add("visible");
                        });

                        document.getElementById("grid"+String(i)).style.gap = '20px';
                        document.getElementById("grid"+String(i)).style.display = 'grid';
                        document.getElementById("grid"+String(i)).style.alignItems = 'center';
                        document.getElementById("grid"+String(i)).style.gridTemplateColumns = '300px 300px 80px';
                        
                        if(distance == 0) {
                            share(true);
                        } else {
                            if(i == 5) {
                                share(false);
                            }
                        }

                    }, 1000);
                }
            }, intervalSpeed);
        }
        // Example usage with a score percentage
        //const score = 73;  // Adjust this value to test different percentages
        //updateScoreAnimation(score);

</script>

</body>